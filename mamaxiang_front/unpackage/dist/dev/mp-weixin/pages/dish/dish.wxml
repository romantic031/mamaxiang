<view class="home"><view class="top_view"><view style="display:flex;flex-direction:column;flex:3;"><view style="flex:2;"><text style="margin-left:5px;font-size:35rpx;font-weight:600;" bind="{{storesName}}">{{storesName}}</text></view><view style="padding:10rpx;flex:1;"><text style="padding-right:10rpx;font-size:25rpx;border-right:3rpx solid #303030;color:#4d4d4d;" bind="{{diningStyle}}">{{diningStyle}}</text><text style="padding-left:10rpx;font-size:25rpx;color:#4d4d4d;" bind="{{storesDetail}}">{{storesDetail}}</text></view></view><label class="iconfont icon-kefu _span" style="font-size:35px;flex:1;text-align:center;line-height:60px;justify-content:flex-end;"></label></view><u-swiper vue-id="6e1f2480-1" list="{{imgList}}" indicator="{{true}}" indicatorMode="dot" bind:__l="__l"></u-swiper><view style="display:flex;"><scroll-view class="left" scroll-y="{{true}}"><block wx:for="{{categories}}" wx:for-item="category" wx:for-index="index" wx:key="id"><view data-event-opts="{{[['tap',[['LeftGetDish',[index,'$0','$1','$2'],[[['categories','id',category.id,'id']],[['categories','id',category.id,'name']],[['categories','id',category.id,'type']]]]]]]}}" class="{{['left_view',active===index?'.left_view_active':'']}}" bindtap="__e">{{''+category.name+''}}</view></block></scroll-view><scroll-view class="right" scroll-y="{{true}}"><view style="margin-bottom:20rpx;"><text style="color:#9d9d9d;font-size:25rpx;">{{cates}}</text></view><block wx:for="{{$root.l2}}" wx:for-item="dish" wx:for-index="index" wx:key="id"><view class="right_view"><view><image src="{{dish.m0}}"></image><view class="right_view_info"><view>{{dish.$orig.name}}</view><view>￥<text style="color:#aa1024;font-size:35rpx;">{{''+dish.$orig.price+''}}</text></view><view style="display:flex;height:91px;width:265rpx;align-items:flex-end;align-content:flex-end;"><block wx:if="{{dish.$orig.number>0}}"><button data-event-opts="{{[['tap',[['subtractCart',['$0'],[[['dishes','id',dish.$orig.id]]]]]]]}}" class="LeftSubtract" style="flex:1;width:20px;" catchtap="__e">-</button></block><view class="centerNum" style="flex:1;text-align:center;">{{dish.$orig.number}}</view><block wx:if="{{dish.$orig.flavors.length>0&&!dish.$orig.number}}"><button data-event-opts="{{[['tap',[['chooseFlavor',['$0'],[[['dishes','id',dish.$orig.id]]]]]]]}}" class="{{[isFlavor?'.right_view_info_btn':'']}}" catchtap="__e">选择规格</button></block><block wx:else><button data-event-opts="{{[['tap',[['addCart',['$0'],[[['dishes','id',dish.$orig.id]]]]]]]}}" class="rightAdd" style="flex:1;width:20px;" catchtap="__e">+</button></block></view></view></view><view><u-modal vue-id="{{'6e1f2480-2-'+index}}" show="{{dialogflavors.show}}" title="{{title}}" width="300px" content="content" closeOnClickOverlay="{{true}}" dish="{{dish.$orig}}" confirmColor="#aa1024;" confirmText="加入购物车" data-event-opts="{{[['^close',[['modal_close']]],['^confirm',[['addCart',['$0'],['dialogflavors']]]]]}}" bind:close="__e" bind:confirm="__e" bind:__l="__l" vue-slots="{{['default']}}"><view><image style="width:250px;" src="{{dialogflavors.image}}"></image></view><block wx:for="{{dish.l1}}" wx:for-item="flavor" wx:for-index="__i0__"><view><view>{{flavor.$orig.name+":"}}</view><view style="display:flex;margin-top:10px;"><view><u-checkbox-group vue-id="{{('6e1f2480-3-'+index+'-'+__i0__)+','+('6e1f2480-2-'+index)}}" placement="row" data-event-opts="{{[['^change',[['checkboxChange']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{flavor.l0}}" wx:for-item="value" wx:for-index="__i1__" wx:key="*this"><u-checkbox vue-id="{{('6e1f2480-4-'+index+'-'+__i0__+'-'+__i1__)+','+('6e1f2480-3-'+index+'-'+__i0__)}}" size="11" labelSize="11px" label="{{value}}" name="{{value}}" bind:__l="__l"></u-checkbox></block></u-checkbox-group></view></view></view></block></u-modal></view></view></block><block wx:for="{{$root.l3}}" wx:for-item="setmeal" wx:for-index="__i2__" wx:key="id"><view class="right_view"><view><image src="{{setmeal.m1}}"></image><view class="right_view_info"><view>{{setmeal.$orig.name}}</view><view>￥<text style="color:#aa1024;font-size:35rpx;">{{''+setmeal.$orig.price+''}}</text></view><view style="display:flex;height:91px;width:265rpx;align-items:flex-end;align-content:flex-end;"><block wx:if="{{setmeal.$orig.number>0}}"><button data-event-opts="{{[['tap',[['subtractCart',['$0'],[[['setmeals','id',setmeal.$orig.id]]]]]]]}}" class="LeftSubtract" style="flex:1;width:20px;" catchtap="__e">-</button></block><view class="centerNum" style="flex:1;text-align:center;">{{setmeal.$orig.number}}</view><block wx:if="{{setmeal.$orig.flavors.length>0&&!setmeal.$orig.number}}"><button data-event-opts="{{[['tap',[['chooseFlavor',['$0'],[[['setmeals','id',setmeal.$orig.id]]]]]]]}}" class="{{[isFlavor?'.right_view_info_btn':'']}}" catchtap="__e">选择规格</button></block><block wx:else><button data-event-opts="{{[['tap',[['addCart',['$0'],[[['setmeals','id',setmeal.$orig.id]]]]]]]}}" class="rightAdd" style="flex:1;width:20px;" catchtap="__e">+</button></block></view></view></view></view></block></scroll-view></view><view class="anniu"><button class="btn-normal btbdstk" style="padding:0;" formType="submit" disabled="{{disabled}}" data-event-opts="{{[['tap',[['openCart']]]]}}" bindtap="__e"><view class="sqdzk"><view style="flex:2;text-align:right;"><label class="iconfont icon-canyin _span" style="font-size:45rpx;"></label></view><view style="flex:6;text-align:left;font-size:35rpx;">{{"￥"+goodsPrice}}</view><view style="flex:3;font-size:30rpx;text-align:left;">选好了</view></view></button></view><u-popup vue-id="6e1f2480-5" show="{{cartDialogShow}}" round="{{50}}" data-event-opts="{{[['^close',[['closeCart']]],['^open',[['openCart']]]]}}" bind:close="__e" bind:open="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="cartBox"><view class="cartTopView"><view class="cartTopTitle">{{"我的购物车("+goodsNum+")"}}</view><button class="cartTopBtn" plain="true" data-event-opts="{{[['tap',[['cleanCart',['$event']]]]]}}" bindtap="__e"><label class="iconfont icon-changyonggoupiaorenshanchu _span"></label>清空购物车</button></view><view class="cartContentView"><block wx:for="{{$root.l4}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view class="cartContentItem"><image src="{{item.m2}}"></image><view class="itemCenterView"><view class="itemName">{{item.$orig.name}}</view><view class="itemPrice">{{"￥"+item.$orig.amount}}</view></view><view class="itemRightView"><button data-event-opts="{{[['tap',[['cartNumberSubtract',['$0'],[[['cartData','id',item.$orig.id]]]]]]]}}" class="LeftSubtract" bindtap="__e">-</button><text class="centerNum" style="flex:1;">{{item.$orig.number}}</text><button data-event-opts="{{[['tap',[['cartNumAdd',['$0'],[[['cartData','id',item.$orig.id]]]]]]]}}" class="rightAdd" bindtap="__e">+</button></view></view></block></view><view class="cartBottomView"><view class="anniu"><button class="btn-normal btbdstk" style="padding:0;" formType="submit" disabled="{{disabled}}" data-event-opts="{{[['tap',[['toOrder']]]]}}" bindtap="__e"><view class="sqdzk"><view style="flex:2;text-align:right;"><label class="iconfont icon-canyin _span" style="font-size:45rpx;"></label></view><view style="flex:6;text-align:left;font-size:35rpx;">{{"￥"+goodsPrice}}</view><view style="flex:3;font-size:30rpx;text-align:left;">选好了</view></view></button></view></view></view></u-popup></view>